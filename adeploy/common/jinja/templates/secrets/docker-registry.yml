apiVersion: v1
kind: Secret
metadata:
  name: {{ secret.get('name') }}
  {% if deployment.get('namespace', False) -%}
  namespace: {{ deployment.get('namespace') }}
  {%- endif %}
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: {{ config | base64_encode }}